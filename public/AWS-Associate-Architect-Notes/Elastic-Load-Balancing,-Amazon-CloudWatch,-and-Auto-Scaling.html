<!DOCTYPE html>
<html lang="en"><head><title>&quot;Elastic Load Balancing, Amazon CloudWatch, and Auto Scaling&quot;</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:title" content="&quot;Elastic Load Balancing, Amazon CloudWatch, and Auto Scaling&quot;"/><meta property="og:description" content="These three services can be used very effectively together to create a highly available application with a resilient architecture on AWS. Elastic Load Balancing ELB distributes the incoming traffic to multiple EC2 instances in one or more availability zones."/><meta property="og:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="og:width" content="1200"/><meta property="og:height" content="675"/><link rel="icon" href="../static/icon.png"/><meta name="description" content="These three services can be used very effectively together to create a highly available application with a resilient architecture on AWS. Elastic Load Balancing ELB distributes the incoming traffic to multiple EC2 instances in one or more availability zones."/><meta name="generator" content="Quartz"/><link href="../index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("../static/contentIndex.json").then(data => data.json())</script></head><body data-slug="AWS-Associate-Architect-Notes/Elastic-Load-Balancing,-Amazon-CloudWatch,-and-Auto-Scaling"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h1 class="page-title"><a href="..">🪴 Quartz 4.0</a></h1><div class="spacer mobile-only"></div><div class="search"><div id="search-icon"><p>Search</p><div></div><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search</title><desc id="desc">Search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></div><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="search-layout" data-preview="true"></div></div></div></div><div class="darkmode"><input class="toggle" id="darkmode-toggle" type="checkbox" tabindex="-1"/><label id="toggle-label-light" for="darkmode-toggle" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg></label><label id="toggle-label-dark" for="darkmode-toggle" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></label></div><div class="explorer desktop-only"><button type="button" id="explorer" data-behavior="collapse" data-collapsed="collapsed" data-savestate="true" data-tree="[{&quot;path&quot;:&quot;AWS-Associate-Architect-Notes&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Low-Level-Desing&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Tech&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Understanding-Of-Life&quot;,&quot;collapsed&quot;:true}]"><h1>Explorer</h1><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-content"><ul class="overflow" id="explorer-ul"><li><div class="folder-outer open"><ul style="padding-left:0;" class="content" data-folderul><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="AWS-Associate-Architect-Notes"><button class="folder-button"><span class="folder-title">AWS Associate Architect Notes</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="AWS-Associate-Architect-Notes"><li><a href="../AWS-Associate-Architect-Notes/2018-AWS-GuideLines" data-for="AWS-Associate-Architect-Notes/2018-AWS-GuideLines">&quot;2018 AWS GuideLines&quot;</a></li><li><a href="../AWS-Associate-Architect-Notes/Amazon-ElastiCache" data-for="AWS-Associate-Architect-Notes/Amazon-ElastiCache">&quot;Amazon ElastiCache&quot;</a></li><li><a href="../AWS-Associate-Architect-Notes/AWS---EC2-AND-EBS" data-for="AWS-Associate-Architect-Notes/AWS---EC2-AND-EBS">&quot;AWS - EC2 AND EBS&quot;</a></li><li><a href="../AWS-Associate-Architect-Notes/Database(RDS)-and-Redshift" data-for="AWS-Associate-Architect-Notes/Database(RDS)-and-Redshift">&quot;Database (RDS) and Redshift&quot;</a></li><li><a href="../AWS-Associate-Architect-Notes/DNS-and-Route53" data-for="AWS-Associate-Architect-Notes/DNS-and-Route53">&quot;DNS and Route53&quot;</a></li><li><a href="../AWS-Associate-Architect-Notes/Elastic-Load-Balancing,-Amazon-CloudWatch,-and-Auto-Scaling" data-for="AWS-Associate-Architect-Notes/Elastic-Load-Balancing,-Amazon-CloudWatch,-and-Auto-Scaling">&quot;Elastic Load Balancing, Amazon CloudWatch, and Auto Scaling&quot;</a></li><li><a href="../AWS-Associate-Architect-Notes/S3-and-Glacier" data-for="AWS-Associate-Architect-Notes/S3-and-Glacier">&quot;S3 and Glacier&quot;</a></li><li><a href="../AWS-Associate-Architect-Notes/Security-and-IAM" data-for="AWS-Associate-Architect-Notes/Security-and-IAM">&quot;Security and IAM&quot;</a></li><li><a href="../AWS-Associate-Architect-Notes/SQS,-SNS,-and-SWF" data-for="AWS-Associate-Architect-Notes/SQS,-SNS,-and-SWF">&quot;SQS, SNS, and SWF&quot;</a></li><li><a href="../AWS-Associate-Architect-Notes/VPC-(Virtual-Private-Cloud)" data-for="AWS-Associate-Architect-Notes/VPC-(Virtual-Private-Cloud)">&quot;VPC (Virtual Private Cloud)&quot;</a></li><li><a href="../AWS-Associate-Architect-Notes/Index" data-for="AWS-Associate-Architect-Notes/Index">Index</a></li></ul></div></li><li><div class="folder-outer "><ul style="padding-left:0;" class="content" data-folderul></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Low-Level-Desing"><button class="folder-button"><span class="folder-title">Low Level Desing</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Low-Level-Desing"><li><a href="../Low-Level-Desing/Interviers---LeetCode" data-for="Low-Level-Desing/Interviers---LeetCode">&quot;Interviers - LeetCode&quot;</a></li><li><a href="../Low-Level-Desing/Interviews---Hotel-Booking-(MMT)" data-for="Low-Level-Desing/Interviews---Hotel-Booking-(MMT)">&quot;Interviews - Hotel Booking (MMt)&quot;</a></li><li><a href="../Low-Level-Desing/Interviews---ParkingLot-low-Level-Design" data-for="Low-Level-Desing/Interviews---ParkingLot-low-Level-Design">&quot;Parking Lot low Level Design&quot;</a></li><li><a href="../Low-Level-Desing/Index" data-for="Low-Level-Desing/Index">Index</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Tech"><button class="folder-button"><span class="folder-title">Tech</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Tech"><li><a href="../Tech/A-Personal-Tale-of-Data-Transformation---The-Simple-Genius-of-jq,-GNU-Parallel,-and-a-Task-Queue" data-for="Tech/A-Personal-Tale-of-Data-Transformation---The-Simple-Genius-of-jq,-GNU-Parallel,-and-a-Task-Queue">&quot;A Personal Tale of Data Transformation - The Simple Genius of jq, GNU Parallel, and a Task Queue&quot;</a></li><li><a href="../Tech/Battle---NodeJs-vs-Spring-Webflux" data-for="Tech/Battle---NodeJs-vs-Spring-Webflux">&quot;Battle - NodeJs vs Spring Webflux&quot;</a></li><li><a href="../Tech/Bloom-Filter-Implementation-in-Java-" data-for="Tech/Bloom-Filter-Implementation-in-Java-">&quot;Bloom Filter Implementation in Java &quot;</a></li><li><a href="../Tech/Cloud-Design-Patterns" data-for="Tech/Cloud-Design-Patterns">&quot;Cloud Design Patterns&quot;</a></li><li><a href="../Tech/Efficient-Data-Processing-on-a-Budget---My-Journey-with-File-Based-Queues" data-for="Tech/Efficient-Data-Processing-on-a-Budget---My-Journey-with-File-Based-Queues">&quot;Efficient Data Processing on a Budget - My Journey with File-Based Queues&quot;</a></li><li><a href="../Tech/Git-Advanced" data-for="Tech/Git-Advanced">&quot;Git Advanced&quot;</a></li><li><a href="../Tech/GNU-Parallel---Alternative-to-Language-Programming" data-for="Tech/GNU-Parallel---Alternative-to-Language-Programming">&quot;GNU Parallel - Alternative to Language Programming&quot;</a></li><li><a href="../Tech/Git-Basics" data-for="Tech/Git-Basics">&quot;Introduction&quot;</a></li><li><a href="../Tech/Java---Count-Min-Sketch-" data-for="Tech/Java---Count-Min-Sketch-">&quot;Java - Count Min Sketch &quot;</a></li><li><a href="../Tech/Java---jdk-(open-source-getting-started)" data-for="Tech/Java---jdk-(open-source-getting-started)">&quot;Java - jdk (open source getting started)&quot;</a></li><li><a href="../Tech/Java---Multi-Threading-Why-" data-for="Tech/Java---Multi-Threading-Why-">&quot;Java - Multi Threading Why ?&quot;</a></li><li><a href="../Tech/Java-Streams-(Part-1)" data-for="Tech/Java-Streams-(Part-1)">&quot;Java - Streams&quot;</a></li><li><a href="../Tech/JQ-(Basics)---Json-Processing-on-terminal" data-for="Tech/JQ-(Basics)---Json-Processing-on-terminal">&quot;JQ (Basics) - Json Processing on terminal&quot;</a></li><li><a href="../Tech/MySQL-8-Write-Ahead-Async-Log-" data-for="Tech/MySQL-8-Write-Ahead-Async-Log-">&quot;MySQL 8 Write Ahead Async Log &quot;</a></li><li><a href="../Tech/Terminal---Warp-vs-iterm2" data-for="Tech/Terminal---Warp-vs-iterm2">&quot;Terminal - Warp vs iterm2&quot;</a></li><li><a href="../Tech/Transations---2-PC-and-3-PC-" data-for="Tech/Transations---2-PC-and-3-PC-">&quot;Transations - 2 PC and 3 PC &quot;</a></li><li><a href="../Tech/What-is-a-Socket-" data-for="Tech/What-is-a-Socket-">&quot;What is a Socket ?&quot;</a></li><li><a href="../Tech/What-is-gRPC-" data-for="Tech/What-is-gRPC-">&quot;What is gRPC? &quot;</a></li><li><a href="../Tech/What-is-IPC-" data-for="Tech/What-is-IPC-">&quot;What is IPC ?&quot;</a></li><li><a href="../Tech/Index" data-for="Tech/Index">Index</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Understanding-Of-Life"><button class="folder-button"><span class="folder-title">Understanding Of Life</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Understanding-Of-Life"><li><a href="../Understanding-Of-Life/How-to-earn-respect-in-front-of-parents--index" data-for="Understanding-Of-Life/How-to-earn-respect-in-front-of-parents--index">&quot;How to earn respect in front of parents ? &quot;</a></li><li><a href="../Understanding-Of-Life/What-is-the-essence-of-this-series" data-for="Understanding-Of-Life/What-is-the-essence-of-this-series">&quot;What is the essence of this series?&quot;</a></li><li><a href="../Understanding-Of-Life/Index" data-for="Understanding-Of-Life/Index">Index</a></li></ul></div></li></ul></div></li><li id="explorer-end"></li></ul></div></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="../">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../AWS-Associate-Architect-Notes/">AWS Associate Architect Notes</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>&quot;Elastic Load Balancing, Amazon CloudWatch, and Auto Scaling&quot;</a></div></nav><h1 class="article-title">&quot;Elastic Load Balancing, Amazon CloudWatch, and Auto Scaling&quot;</h1><p show-comma="true" class="content-meta"><span>Jun 13, 2024</span><span>6 min read</span></p><ul class="tags"><li><a href="../tags/AWS" class="internal tag-link">AWS</a></li><li><a href="../tags/elb" class="internal tag-link">elb</a></li><li><a href="../tags/autoscaling" class="internal tag-link">autoscaling</a></li></ul></div></div><article class="popover-hint"><p>These three services can be used very effectively together to create a highly available application with a resilient architecture on AWS. </p>
<h2 id="elastic-load-balancing"><strong>Elastic Load Balancing</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#elastic-load-balancing" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>ELB distributes the incoming traffic to multiple EC2 instances in one or more availability zones. ELB supports routing of HTTP, HTTPS, TCP, SSL, DNS, CNAME. They do the health checks of instances so that traffic can’t be transfer to unhealthy EC2, and also launch new instances based on he matrices. </p>
<p><strong>Internet-Facing Load Balancers</strong> </p>
<p>They take requests coming from internet and distributes to the EC2 container registered with load balancers. </p>
<ul>
<li>
<p>AWS recommends to use DNS rather than IP address of the ELB in order to provide a single, stable entry point. </p>
</li>
</ul>
<p><strong>There are two types of ELBs</strong></p>
<p><strong>Internal load balancers</strong></p>
<p>it is often useful to load balance between the tiers of the application.</p>
<p><strong>HTTPS Load Balancers</strong> </p>
<p>We can create these load balancers that uses SSL/Transport Layer Security for encrypted connections, for this you have to install certification on your load balancer to decrypt. </p>
<p><strong>Listeners</strong> </p>
<p>Listeners are nothing but a process that checks for connection requests. You can allow which kinda connection are allowed and which are not. </p>
<h2 id="configuring-elastic-load-balancing"><strong>Configuring Elastic Load Balancing</strong> <a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#configuring-elastic-load-balancing" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p><strong>Idle Connection Timeout</strong> </p>
</li>
<li>
<p>Load balancer created two connection when a request comes to the ELB, one is with client and second is with backend services. The idle connection timeout is 60 seconds if there is no data data flow. And if request doesn’t complete within the idle timeout period, the load balancer closes the connection, even if data is still being transferred. </p>
</li>
<li>
<p>Keep-alive, when enabled, allows the load balancer to reuse connections to your back-end instance, which reduces CPU utilisation. </p>
</li>
<li>
<p><strong>Cross-Zone Load Balancing</strong> </p>
</li>
<li>
<p>traffic is routed evenly across all back-end instances for your load balancer, regardless of the Availability Zone in which they are located </p>
</li>
<li>
<p>Cross-zone load balancing reduces the need to maintain equivalent numbers of back-end instances in each Availability Zone and improves your application’s ability to handle the loss of one or more back-end instances </p>
</li>
<li>
<p><strong>Connection Draining</strong> </p>
</li>
<li>
<p>LB stops sending the new connection to the instances that are deregistering or unhealthy, while keeping the existing connections open </p>
</li>
<li>
<p>The maximum timeout value can be set between 1 and 3,600 seconds (the default is 300 seconds). When the maximum time limit is reached, the load balancer forcibly closes connections to the deregistering instance. </p>
</li>
<li>
<p><strong>Proxy Protocol</strong></p>
</li>
<li>
<p>When you use TCP or SSL for both front-end and back-end connections, your load balancer forwards requests to the back-end instances without modifying the request headers </p>
</li>
<li>
<p>If you enable proxy protocol a human readable header is attached with the connection information </p>
</li>
<li>
<p>The header is then sent to the back-end instance as part of the request </p>
</li>
<li>
<p>If Proxy Protocol is enabled on both the proxy server and the load balancer, the load balancer adds another header to the request, which already has a header from the proxy server. Depending on how your back-end instance is configured, this duplication might result in errors. </p>
</li>
<li>
<p><strong>Sticky Session</strong> </p>
</li>
<li>
<p><strong>L</strong>ad balancer routes each request independently to the registered instance with the smallest load. However, sticky session feature (also known as session affinity),  enables load balancer to bind a user’s session to a specific instance. </p>
</li>
<li>
<p><strong>Health Checks</strong></p>
</li>
<li>
<p>ELB checks all the EC2 which are registered with it, by sending a ping, a connection attempt. If it not responds it labels as OutOfSerivce and ELB does not send the new request to that EC2.  </p>
</li>
</ul>
<h2 id="amazon-cloudwatch"><strong>Amazon CloudWatch</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#amazon-cloudwatch" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>Amazon CloudWatch supports monitoring and specific metrics for most AWS Cloud services, including: </p>
<p>Auto Scaling, Amazon CloudFront, Amazon CloudSearch, Amazon DynamoDB, Amazon EC2, Amazon EC2 Container Service (Amazon ECS), Amazon ElastiCache, Amazon Elastic Block Store (Amazon EBS), Elastic Load Balancing, Amazon Elastic MapReduce (Amazon EMR), Amazon Elasticsearch Service, Amazon Kinesis Streams, Amazon Kinesis Firehose, AWS Lambda, Amazon Machine Learning, AWS OpsWorks, Amazon Redshift, Amazon Relational Database Service (Amazon RDS), Amazon Route 53, Amazon SNS, Amazon Simple Queue Service (Amazon SQS), Amazon S3, AWS Simple Workflow Service (Amazon SWF), AWS Storage Gateway, AWS WAF, and Amazon WorkSpaces. </p>
<ul>
<li>
<p>CloudWatch does not aggregate data across regions but can aggregate across Availability Zones within a region. </p>
</li>
<li>
<p>CloudWatch stores for 2 week, to retain more than that save the logs to S3.</p>
</li>
</ul>
<p><strong>Auto Scaling</strong></p>
<p>Auto Scaling is a service that allows you to scale your Amazon EC2 capacity automatically by scaling out and scaling in according to criteria that you define. </p>
<ul>
<li>
<p><strong>Manual Scaling</strong> </p>
</li>
</ul>
<p>When you need a very basic, pre-calculated change in your need.</p>
<ul>
<li>
<p><strong>Scheduling Scaling</strong> </p>
</li>
</ul>
<p>You can Schedule when the demand will be at peak and add some compute instances and after that remove those instances can save a lot of bill </p>
<ul>
<li>
<p><strong>Dynamic Scaling</strong> </p>
</li>
</ul>
<p>Dynamic scaling lets you define parameters that control the Auto Scaling process in a scaling policy</p>
<h2 id="auto-scaling-components"><strong>Auto Scaling Components</strong> <a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#auto-scaling-components" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<h2 id="launch-configuration"><strong>Launch Configuration:</strong> <a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#launch-configuration" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p>A launch configuration is the template that Auto Scaling uses to create new instances, and it is composed of the configuration name, Amazon Machine Image (AMI), Amazon EC2 instance type, security group, and instance key pair. Each Auto Scaling group can have only one launch configuration at a time </p>
</li>
<li>
<p>default number of Amazon EC2 instances you can currently launch within a region, which is 20 </p>
</li>
</ul>
<h2 id="autoscale-group"><strong>AutoScale Group</strong> <a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#autoscale-group" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>EC2 instances are attached to Auto Scale group which are used for scaling purpose. Auto Scaling Group has a Launch configuration file that is used as a base image for deploying new EC2 instances. They have minimum and maximum limit , they also can use spot on! Instances that are way more cheaper than on demand. </p>
<h2 id="scaling-policy"><strong>Scaling policy</strong> <a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#scaling-policy" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p>You can associate Amazon CloudWatch alarms and scaling policies with an Auto Scaling group to adjust Auto Scaling dynamically. </p>
</li>
<li>
<p>When a threshold is crossed, Amazon CloudWatch sends alarms to trigger changes (scaling in or out) to the number of Amazon EC2 instances currently receiving traffic behind a load balancer. </p>
</li>
<li>
<p>After the Amazon CloudWatch alarm sends a message to the Auto Scaling group, Auto Scaling executes the associated policy to scale your group. The policy is a set of instructions that tells Auto Scaling whether to scale out, launching new Amazon EC2 instances referenced in the associated launch configuration, or to scale in and terminate instances. </p>
</li>
<li>
<p>Best practice: </p>
</li>
<li>
<p>Scale out fast, but scale in slowly. Because that will avoid the relaunching of new instance as EC2 charges on per hour basis. </p>
</li>
<li>
<p>Bootstrap your EC2, that will make ec2 to join faster to the pool. </p>
</li>
</ul>
<p>When we are doing the AutoScale, we copy the code of frontend and backend to all the machines.</p></article></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false}"></div><svg version="1.1" id="global-graph-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
	s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
	c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
	C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
	c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
	v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
	s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
	C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
	S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
	s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
	s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true}"></div></div></div><div class="toc desktop-only"><button type="button" id="toc" class><h3>Table of Contents</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="toc-content"><ul class="overflow"><li class="depth-0"><a href="#elastic-load-balancing" data-for="elastic-load-balancing">Elastic Load Balancing</a></li><li class="depth-0"><a href="#configuring-elastic-load-balancing" data-for="configuring-elastic-load-balancing">Configuring Elastic Load Balancing </a></li><li class="depth-0"><a href="#amazon-cloudwatch" data-for="amazon-cloudwatch">Amazon CloudWatch</a></li><li class="depth-0"><a href="#auto-scaling-components" data-for="auto-scaling-components">Auto Scaling Components </a></li><li class="depth-0"><a href="#launch-configuration" data-for="launch-configuration">Launch Configuration: </a></li><li class="depth-0"><a href="#autoscale-group" data-for="autoscale-group">AutoScale Group </a></li><li class="depth-0"><a href="#scaling-policy" data-for="scaling-policy">Scaling policy </a></li></ul></div></div><div class="backlinks"><h3>Backlinks</h3><ul class="overflow"><li>No backlinks found</li></ul></div></div></div><footer class><hr/><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.2.3</a> © 2024</p><ul><li><a href="https://github.com/jackyzha0/quartz">GitHub</a></li><li><a href="https://discord.gg/cRFFHYye7t">Discord Community</a></li></ul></footer></div></body><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script type="module">
          let mermaidImport = undefined
          document.addEventListener('nav', async () => {
            if (document.querySelector("code.mermaid")) {
              mermaidImport ||= await import('https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.7.0/mermaid.esm.min.mjs')
              const mermaid = mermaidImport.default
              const darkMode = document.documentElement.getAttribute('saved-theme') === 'dark'
              mermaid.initialize({
                startOnLoad: false,
                securityLevel: 'loose',
                theme: darkMode ? 'dark' : 'default'
              })

              await mermaid.run({
                querySelector: '.mermaid'
              })
            }
          });
          </script><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/copy-tex.min.js" type="application/javascript"></script><script type="application/javascript">
            const socket = new WebSocket('ws://localhost:3001')
            // reload(true) ensures resources like images and scripts are fetched again in firefox
            socket.addEventListener('message', () => document.location.reload(true))
          </script><script src="../postscript.js" type="module"></script></html>