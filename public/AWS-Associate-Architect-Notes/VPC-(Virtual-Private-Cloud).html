<!DOCTYPE html>
<html lang="en"><head><title>&quot;VPC (Virtual Private Cloud)&quot;</title><meta charset="utf-8"/><link rel="preconnect" href="https://fonts.googleapis.com"/><link rel="preconnect" href="https://fonts.gstatic.com"/><link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=IBM Plex Mono&amp;family=Schibsted Grotesk:wght@400;700&amp;family=Source Sans Pro:ital,wght@0,400;0,600;1,400;1,600&amp;display=swap"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><meta property="og:title" content="&quot;VPC (Virtual Private Cloud)&quot;"/><meta property="og:description" content="VPC (Virtual Private Cloud) It’s a custom defined virtual network on aws cloud. It’s a networking layer for EC2 VPC is Logically Isolated even if It shares the IP address Can span along the availability zones When creating VPC we must select a CIDR range IPV4 address Range of CIDR can’t be changed after creation Range can be between /16 (65,536 available address) or /28 (16 available address) VPC consist of Following Component Subnets Route tables DHCP (Dynamic Host Config Protocol) option sets Security Groups Network Security Control List (ACL) Option components Internet Gateways Elastic IP Elastic Network Interfaces EndPoints Peering NAT instances and Gateways VPG (gateway) VPN Customer gateway Subnets Segment of VPC IP address range where we can launch aws services CIDR block defines subnet (192.0.1.0/24) or (192.0.0.0/24) AWS reserves first 4 address and last IP for itself."/><meta property="og:image" content="https://quartz.jzhao.xyz/static/og-image.png"/><meta property="og:width" content="1200"/><meta property="og:height" content="675"/><link rel="icon" href="../static/icon.png"/><meta name="description" content="VPC (Virtual Private Cloud) It’s a custom defined virtual network on aws cloud. It’s a networking layer for EC2 VPC is Logically Isolated even if It shares the IP address Can span along the availability zones When creating VPC we must select a CIDR range IPV4 address Range of CIDR can’t be changed after creation Range can be between /16 (65,536 available address) or /28 (16 available address) VPC consist of Following Component Subnets Route tables DHCP (Dynamic Host Config Protocol) option sets Security Groups Network Security Control List (ACL) Option components Internet Gateways Elastic IP Elastic Network Interfaces EndPoints Peering NAT instances and Gateways VPG (gateway) VPN Customer gateway Subnets Segment of VPC IP address range where we can launch aws services CIDR block defines subnet (192.0.1.0/24) or (192.0.0.0/24) AWS reserves first 4 address and last IP for itself."/><meta name="generator" content="Quartz"/><link href="../index.css" rel="stylesheet" type="text/css" spa-preserve/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/katex.min.css" rel="stylesheet" type="text/css" spa-preserve/><script src="../prescript.js" type="application/javascript" spa-preserve></script><script type="application/javascript" spa-preserve>const fetchData = fetch("../static/contentIndex.json").then(data => data.json())</script></head><body data-slug="AWS-Associate-Architect-Notes/VPC-(Virtual-Private-Cloud)"><div id="quartz-root" class="page"><div id="quartz-body"><div class="left sidebar"><h1 class="page-title"><a href="..">🪴 Quartz 4.0</a></h1><div class="spacer mobile-only"></div><div class="search"><div id="search-icon"><p>Search</p><div></div><svg tabindex="0" aria-labelledby="title desc" role="img" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.9 19.7"><title id="title">Search</title><desc id="desc">Search</desc><g class="search-path" fill="none"><path stroke-linecap="square" d="M18.5 18.3l-5.4-5.4"></path><circle cx="8" cy="8" r="7"></circle></g></svg></div><div id="search-container"><div id="search-space"><input autocomplete="off" id="search-bar" name="search" type="text" aria-label="Search for something" placeholder="Search for something"/><div id="search-layout" data-preview="true"></div></div></div></div><div class="darkmode"><input class="toggle" id="darkmode-toggle" type="checkbox" tabindex="-1"/><label id="toggle-label-light" for="darkmode-toggle" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="dayIcon" x="0px" y="0px" viewBox="0 0 35 35" style="enable-background:new 0 0 35 35" xml:space="preserve"><title>Dark mode</title><path d="M6,17.5C6,16.672,5.328,16,4.5,16h-3C0.672,16,0,16.672,0,17.5    S0.672,19,1.5,19h3C5.328,19,6,18.328,6,17.5z M7.5,26c-0.414,0-0.789,0.168-1.061,0.439l-2,2C4.168,28.711,4,29.086,4,29.5    C4,30.328,4.671,31,5.5,31c0.414,0,0.789-0.168,1.06-0.44l2-2C8.832,28.289,9,27.914,9,27.5C9,26.672,8.329,26,7.5,26z M17.5,6    C18.329,6,19,5.328,19,4.5v-3C19,0.672,18.329,0,17.5,0S16,0.672,16,1.5v3C16,5.328,16.671,6,17.5,6z M27.5,9    c0.414,0,0.789-0.168,1.06-0.439l2-2C30.832,6.289,31,5.914,31,5.5C31,4.672,30.329,4,29.5,4c-0.414,0-0.789,0.168-1.061,0.44    l-2,2C26.168,6.711,26,7.086,26,7.5C26,8.328,26.671,9,27.5,9z M6.439,8.561C6.711,8.832,7.086,9,7.5,9C8.328,9,9,8.328,9,7.5    c0-0.414-0.168-0.789-0.439-1.061l-2-2C6.289,4.168,5.914,4,5.5,4C4.672,4,4,4.672,4,5.5c0,0.414,0.168,0.789,0.439,1.06    L6.439,8.561z M33.5,16h-3c-0.828,0-1.5,0.672-1.5,1.5s0.672,1.5,1.5,1.5h3c0.828,0,1.5-0.672,1.5-1.5S34.328,16,33.5,16z     M28.561,26.439C28.289,26.168,27.914,26,27.5,26c-0.828,0-1.5,0.672-1.5,1.5c0,0.414,0.168,0.789,0.439,1.06l2,2    C28.711,30.832,29.086,31,29.5,31c0.828,0,1.5-0.672,1.5-1.5c0-0.414-0.168-0.789-0.439-1.061L28.561,26.439z M17.5,29    c-0.829,0-1.5,0.672-1.5,1.5v3c0,0.828,0.671,1.5,1.5,1.5s1.5-0.672,1.5-1.5v-3C19,29.672,18.329,29,17.5,29z M17.5,7    C11.71,7,7,11.71,7,17.5S11.71,28,17.5,28S28,23.29,28,17.5S23.29,7,17.5,7z M17.5,25c-4.136,0-7.5-3.364-7.5-7.5    c0-4.136,3.364-7.5,7.5-7.5c4.136,0,7.5,3.364,7.5,7.5C25,21.636,21.636,25,17.5,25z"></path></svg></label><label id="toggle-label-dark" for="darkmode-toggle" tabindex="-1"><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" version="1.1" id="nightIcon" x="0px" y="0px" viewBox="0 0 100 100" style="enable-background:new 0 0 100 100" xml:space="preserve"><title>Light mode</title><path d="M96.76,66.458c-0.853-0.852-2.15-1.064-3.23-0.534c-6.063,2.991-12.858,4.571-19.655,4.571  C62.022,70.495,50.88,65.88,42.5,57.5C29.043,44.043,25.658,23.536,34.076,6.47c0.532-1.08,0.318-2.379-0.534-3.23  c-0.851-0.852-2.15-1.064-3.23-0.534c-4.918,2.427-9.375,5.619-13.246,9.491c-9.447,9.447-14.65,22.008-14.65,35.369  c0,13.36,5.203,25.921,14.65,35.368s22.008,14.65,35.368,14.65c13.361,0,25.921-5.203,35.369-14.65  c3.872-3.871,7.064-8.328,9.491-13.246C97.826,68.608,97.611,67.309,96.76,66.458z"></path></svg></label></div><div class="explorer desktop-only"><button type="button" id="explorer" data-behavior="collapse" data-collapsed="collapsed" data-savestate="true" data-tree="[{&quot;path&quot;:&quot;AWS-Associate-Architect-Notes&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Low-Level-Desing&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Tech&quot;,&quot;collapsed&quot;:true},{&quot;path&quot;:&quot;Understanding-Of-Life&quot;,&quot;collapsed&quot;:true}]"><h1>Explorer</h1><svg xmlns="http://www.w3.org/2000/svg" width="14" height="14" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="explorer-content"><ul class="overflow" id="explorer-ul"><li><div class="folder-outer open"><ul style="padding-left:0;" class="content" data-folderul><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="AWS-Associate-Architect-Notes"><button class="folder-button"><span class="folder-title">AWS Associate Architect Notes</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="AWS-Associate-Architect-Notes"><li><a href="../AWS-Associate-Architect-Notes/2018-AWS-GuideLines" data-for="AWS-Associate-Architect-Notes/2018-AWS-GuideLines">&quot;2018 AWS GuideLines&quot;</a></li><li><a href="../AWS-Associate-Architect-Notes/Amazon-ElastiCache" data-for="AWS-Associate-Architect-Notes/Amazon-ElastiCache">&quot;Amazon ElastiCache&quot;</a></li><li><a href="../AWS-Associate-Architect-Notes/AWS---EC2-AND-EBS" data-for="AWS-Associate-Architect-Notes/AWS---EC2-AND-EBS">&quot;AWS - EC2 AND EBS&quot;</a></li><li><a href="../AWS-Associate-Architect-Notes/Database(RDS)-and-Redshift" data-for="AWS-Associate-Architect-Notes/Database(RDS)-and-Redshift">&quot;Database (RDS) and Redshift&quot;</a></li><li><a href="../AWS-Associate-Architect-Notes/DNS-and-Route53" data-for="AWS-Associate-Architect-Notes/DNS-and-Route53">&quot;DNS and Route53&quot;</a></li><li><a href="../AWS-Associate-Architect-Notes/Elastic-Load-Balancing,-Amazon-CloudWatch,-and-Auto-Scaling" data-for="AWS-Associate-Architect-Notes/Elastic-Load-Balancing,-Amazon-CloudWatch,-and-Auto-Scaling">&quot;Elastic Load Balancing, Amazon CloudWatch, and Auto Scaling&quot;</a></li><li><a href="../AWS-Associate-Architect-Notes/S3-and-Glacier" data-for="AWS-Associate-Architect-Notes/S3-and-Glacier">&quot;S3 and Glacier&quot;</a></li><li><a href="../AWS-Associate-Architect-Notes/Security-and-IAM" data-for="AWS-Associate-Architect-Notes/Security-and-IAM">&quot;Security and IAM&quot;</a></li><li><a href="../AWS-Associate-Architect-Notes/SQS,-SNS,-and-SWF" data-for="AWS-Associate-Architect-Notes/SQS,-SNS,-and-SWF">&quot;SQS, SNS, and SWF&quot;</a></li><li><a href="../AWS-Associate-Architect-Notes/VPC-(Virtual-Private-Cloud)" data-for="AWS-Associate-Architect-Notes/VPC-(Virtual-Private-Cloud)">&quot;VPC (Virtual Private Cloud)&quot;</a></li><li><a href="../AWS-Associate-Architect-Notes/Index" data-for="AWS-Associate-Architect-Notes/Index">Index</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Low-Level-Desing"><button class="folder-button"><span class="folder-title">Low Level Desing</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Low-Level-Desing"><li><a href="../Low-Level-Desing/Interviers---LeetCode" data-for="Low-Level-Desing/Interviers---LeetCode">&quot;Interviers - LeetCode&quot;</a></li><li><a href="../Low-Level-Desing/Interviews---Hotel-Booking-(MMT)" data-for="Low-Level-Desing/Interviews---Hotel-Booking-(MMT)">&quot;Interviews - Hotel Booking (MMt)&quot;</a></li><li><a href="../Low-Level-Desing/Interviews---ParkingLot-low-Level-Design" data-for="Low-Level-Desing/Interviews---ParkingLot-low-Level-Design">&quot;Parking Lot low Level Design&quot;</a></li><li><a href="../Low-Level-Desing/Index" data-for="Low-Level-Desing/Index">Index</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Tech"><button class="folder-button"><span class="folder-title">Tech</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Tech"><li><a href="../Tech/Bloom-Filter-Implementation-in-Java-" data-for="Tech/Bloom-Filter-Implementation-in-Java-">&quot;Bloom Filter Implementation in Java &quot;</a></li><li><a href="../Tech/Cloud-Design-Patterns" data-for="Tech/Cloud-Design-Patterns">&quot;Cloud Design Patterns&quot;</a></li><li><a href="../Tech/Git-Advanced" data-for="Tech/Git-Advanced">&quot;Git Advanced&quot;</a></li><li><a href="../Tech/GNU-Parallel---Alternative-to-Language-Programming" data-for="Tech/GNU-Parallel---Alternative-to-Language-Programming">&quot;GNU Parallel - Alternative to Language Programming&quot;</a></li><li><a href="../Tech/Git-Basics" data-for="Tech/Git-Basics">&quot;Introduction&quot;</a></li><li><a href="../Tech/Java---Count-Min-Sketch-" data-for="Tech/Java---Count-Min-Sketch-">&quot;Java - Count Min Sketch &quot;</a></li><li><a href="../Tech/Java---jdk-(open-source-getting-started)" data-for="Tech/Java---jdk-(open-source-getting-started)">&quot;Java - jdk (open source getting started)&quot;</a></li><li><a href="../Tech/Java---Multi-Threading-Why-" data-for="Tech/Java---Multi-Threading-Why-">&quot;Java - Multi Threading Why ?&quot;</a></li><li><a href="../Tech/Java-Streams-(Part-1)" data-for="Tech/Java-Streams-(Part-1)">&quot;Java - Streams&quot;</a></li><li><a href="../Tech/JQ-(Basics)---Json-Processing-on-terminal" data-for="Tech/JQ-(Basics)---Json-Processing-on-terminal">&quot;JQ (Basics) - Json Processing on terminal&quot;</a></li><li><a href="../Tech/MySQL-8-Write-Ahead-Async-Log-" data-for="Tech/MySQL-8-Write-Ahead-Async-Log-">&quot;MySQL 8 Write Ahead Async Log &quot;</a></li><li><a href="../Tech/Terminal---Warp-vs-iterm2" data-for="Tech/Terminal---Warp-vs-iterm2">&quot;Terminal - Warp vs iterm2&quot;</a></li><li><a href="../Tech/Transations---2-PC-and-3-PC-" data-for="Tech/Transations---2-PC-and-3-PC-">&quot;Transations - 2 PC and 3 PC &quot;</a></li><li><a href="../Tech/What-is-a-Socket-" data-for="Tech/What-is-a-Socket-">&quot;What is a Socket ?&quot;</a></li><li><a href="../Tech/What-is-gRPC-" data-for="Tech/What-is-gRPC-">&quot;What is gRPC? &quot;</a></li><li><a href="../Tech/What-is-IPC-" data-for="Tech/What-is-IPC-">&quot;What is IPC ?&quot;</a></li><li><a href="../Tech/Index" data-for="Tech/Index">Index</a></li></ul></div></li><li><div class="folder-container"><svg xmlns="http://www.w3.org/2000/svg" width="12" height="12" viewBox="5 8 14 8" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="folder-icon"><polyline points="6 9 12 15 18 9"></polyline></svg><div data-folderpath="Understanding-Of-Life"><button class="folder-button"><span class="folder-title">Understanding Of Life</span></button></div></div><div class="folder-outer "><ul style="padding-left:1.4rem;" class="content" data-folderul="Understanding-Of-Life"><li><a href="../Understanding-Of-Life/How-to-earn-respect-in-front-of-parents--index" data-for="Understanding-Of-Life/How-to-earn-respect-in-front-of-parents--index">&quot;How to earn respect in front of parents ? &quot;</a></li><li><a href="../Understanding-Of-Life/What-is-the-essence-of-this-series" data-for="Understanding-Of-Life/What-is-the-essence-of-this-series">&quot;What is the essence of this series?&quot;</a></li><li><a href="../Understanding-Of-Life/Index" data-for="Understanding-Of-Life/Index">Index</a></li></ul></div></li><li><div class="folder-outer "><ul style="padding-left:0;" class="content" data-folderul></ul></div></li><li><a href="../Readme" data-for="Readme">ReadMe</a></li></ul></div></li><li id="explorer-end"></li></ul></div></div></div><div class="center"><div class="page-header"><div class="popover-hint"><nav class="breadcrumb-container" aria-label="breadcrumbs"><div class="breadcrumb-element"><a href="../">Home</a><p> ❯ </p></div><div class="breadcrumb-element"><a href="../AWS-Associate-Architect-Notes/">AWS Associate Architect Notes</a><p> ❯ </p></div><div class="breadcrumb-element"><a href>&quot;VPC (Virtual Private Cloud)&quot;</a></div></nav><h1 class="article-title">&quot;VPC (Virtual Private Cloud)&quot;</h1><p show-comma="true" class="content-meta"><span>Jun 13, 2024</span><span>6 min read</span></p><ul class="tags"><li><a href="../tags/AWS" class="internal tag-link">AWS</a></li><li><a href="../tags/VPC" class="internal tag-link">VPC</a></li><li><a href="../tags/networking" class="internal tag-link">networking</a></li></ul></div></div><article class="popover-hint"><h2 id="vpc-virtual-private-cloud"><strong>VPC (Virtual Private Cloud)</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#vpc-virtual-private-cloud" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>It’s a custom defined virtual network on aws cloud. It’s a networking layer for EC2</p>
<ul>
<li>
<p>VPC is Logically Isolated even if It shares the IP address </p>
</li>
<li>
<p>Can span along the availability zones </p>
</li>
<li>
<p>When creating VPC we must select a CIDR range </p>
</li>
<li>
<p>IPV4 address</p>
</li>
<li>
<p>Range of CIDR can’t be changed after creation </p>
</li>
<li>
<p>Range can be between /16 (65,536 available address) or /28 (16 available address)</p>
</li>
<li>
<p>VPC consist of Following Component </p>
</li>
<li>
<p>Subnets </p>
</li>
<li>
<p>Route tables</p>
</li>
<li>
<p>DHCP (Dynamic Host Config Protocol) option sets </p>
</li>
<li>
<p>Security Groups </p>
</li>
<li>
<p>Network Security Control List (ACL)</p>
</li>
<li>
<p>Option components </p>
</li>
<li>
<p>Internet Gateways </p>
</li>
<li>
<p>Elastic IP </p>
</li>
<li>
<p>Elastic Network Interfaces </p>
</li>
<li>
<p>EndPoints </p>
</li>
<li>
<p>Peering </p>
</li>
<li>
<p>NAT instances and Gateways </p>
</li>
<li>
<p>VPG (gateway) </p>
</li>
<li>
<p>VPN</p>
</li>
<li>
<p>Customer gateway </p>
</li>
</ul>
<h2 id="subnets"><strong>Subnets</strong> <a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#subnets" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p>Segment of VPC IP address range where we can launch aws services </p>
</li>
<li>
<p>CIDR block defines subnet (192.0.1.0/24) or (192.0.0.0/24)</p>
</li>
<li>
<p>AWS reserves first 4 address and last IP for itself. If you have a /28 or 16 IP addresses, AWS will save 5 for itself and you will end up having 11 addresses </p>
</li>
<li>
<p>You can add one to more subnets in one availability zone , therefore multiple subnets in one availability zone.</p>
</li>
<li>
<p>Subnets don’t span across the availability zone for connecting availability zone you have to use the route table or a NAT </p>
</li>
<li>
<p>Classifier into 3 classes </p>
</li>
<li>
<p>Public </p>
</li>
<li>
<p>This is used for routing internet to the VPC’s Internet Gateway</p>
</li>
<li>
<p>Associated with route table </p>
</li>
<li>
<p>Private </p>
</li>
<li>
<p>This is used internally in VPC, does not direct traffic to IGW of VPC </p>
</li>
<li>
<p>Associated with route table</p>
</li>
<li>
<p>VPN-only </p>
</li>
<li>
<p>Aws VPC contains one public subnet in every AZ within the region with net-mask of /20. </p>
</li>
</ul>
<h2 id="route-tables"><strong>Route Tables</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#route-tables" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p>Route tables creates a logical connection(construct) in VPC. Tell’s how traffic will direct in VPC </p>
</li>
<li>
<p>VPC comes with a Default route table called local route which enables communication in VPC and this can’t be modified or deleted. </p>
</li>
<li>
<p>We can specify which subnets will become public and private by directing traffic through the IGW or not respectively </p>
</li>
<li>
<p>Using route tables EC2 in different subnets can communicate to each other. </p>
</li>
<li>
<p>We can add custom routes. </p>
</li>
<li>
<p>Points to remember </p>
</li>
<li>
<p>VPC has implicit router </p>
</li>
<li>
<p>VPC comes with main route table </p>
</li>
<li>
<p>We can create custom route tables </p>
</li>
<li>
<p>Each subnet must be connected with a route table other wise it will use the main route table </p>
</li>
<li>
<p>You can replace default with custom route table so that all custom route table automatically associates with it </p>
</li>
<li>
<p>Each route in table specifies a destination CIDR and a target</p>
</li>
</ul>
<h2 id="internet-gateways"><strong>Internet Gateways</strong> <a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#internet-gateways" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p>It’s a VPC component with horizontally scaling, redundant, high availability. </p>
</li>
<li>
<p>Allows communication between instances and the internet using public IP addresses </p>
</li>
<li>
<p>How to create a public IP addresses </p>
</li>
<li>
<p>Attach IGW to VPC </p>
</li>
<li>
<p>Create sub route table rule to send all non-local traffic  IGW </p>
</li>
<li>
<p>Configure ACL to allow traffic to flow to and from the instance </p>
</li>
<li>
<p>Assign EIP or public IP to the Instance </p>
</li>
</ul>
<h2 id="dhcp"><strong>DHCP</strong> <a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#dhcp" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>Will do this later</p>
<h2 id="elastic-ip"><strong>Elastic IP</strong> <a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#elastic-ip" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p>Aws has a pool of public IP addresses in each region </p>
</li>
<li>
<p>EIP is a static IP address</p>
</li>
<li>
<p>We can take if from the pool and release it when the work is done </p>
</li>
<li>
<p>EIP remains fixed and allows you to change the underlying infrastructure </p>
</li>
<li>
<p>Points to remember </p>
</li>
<li>
<p>First allocate the EIP for VPC then attach to the Instance </p>
</li>
<li>
<p>EIP is specific to a region</p>
</li>
<li>
<p>One-to-one relationship between network Interfaces and EIP</p>
</li>
<li>
<p>Can move from one instance to another to same or in another VPC  but in same region </p>
</li>
<li>
<p>EIP is associated with your account until you release it [important]</p>
</li>
<li>
<p>EIP is chargeable either you use it or not </p>
</li>
</ul>
<h2 id="elastic-network-interface-still-confused-"><strong>Elastic Network Interface (still confused )</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#elastic-network-interface-still-confused-" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p>Helps you to create a management network, use network and appliance in your VPC </p>
</li>
<li>
<p>Create a dual-homed instance with workload/roles on distinct subnets </p>
</li>
<li>
<p>Create a low-budget , high availability solution </p>
</li>
</ul>
<h2 id="endpoints"><strong>Endpoints</strong> <a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#endpoints" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p>VPC endpoints enables you to create a private connection layer between AWS VPC and other services without using internet or Nat, direct connect. </p>
</li>
<li>
<p>We can create multiple endpoints for subnets for accessing same service</p>
</li>
<li>
<p>Point to remember for VPC endpoints </p>
</li>
<li>
<p>Specify amazon VPC </p>
</li>
<li>
<p>Specify the service </p>
</li>
<li>
<p>Specify the policy </p>
</li>
<li>
<p>Specify the route tables </p>
</li>
<li>
<p>If the service is in other region then it will use the IGW not the specified endpoint because it only works for same region. </p>
</li>
</ul>
<h2 id="peering"><strong>Peering</strong> <a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#peering" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p>Networking Connection between two or more VPCs and act like they are in within same network </p>
</li>
<li>
<p>It can only work if both VPC are in same region </p>
</li>
<li>
<p>You can also build a networking connection to other account’s VPC </p>
</li>
<li>
<p>Its a one-to-one relationship </p>
</li>
<li>
<p>It is created through a request/acept protocol, </p>
</li>
<li>
<p>Do not support transitive routing </p>
</li>
<li>
<p>Points to remember </p>
</li>
<li>
<p>Can’t create peering if VPC is in different region </p>
</li>
<li>
<p>Can’t have more than one peering connection between the same two Amazon VPC at the same time. </p>
</li>
<li>
<p>Can’l create peering if two VPC have overlapping or matching CIDR blocks </p>
</li>
</ul>
<h2 id="security-groups"><strong>Security Groups</strong> <a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#security-groups" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p>It’s a virtual stateful firewall for AWS controls inbound and outbound, if response is allowed inbound rule to will also allow outbound rule regardless of outbound rule  </p>
</li>
<li>
<p>Important rules to remember </p>
</li>
<li>
<p>By default no inbound traffic is allowed </p>
</li>
<li>
<p>You can specify allow rules not deny rules (This is the difference between ACL and security group) </p>
</li>
<li>
<p>By default all outbound rules are allowed </p>
</li>
<li>
<p>Instance of same security group can’t talk until you add rules </p>
</li>
<li>
<p>Changes in Security groups are reflected immediately </p>
</li>
</ul>
<h2 id="network-allocated-control-list"><strong>Network Allocated Control List</strong> <a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#network-allocated-control-list" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p>Its also a firewall but works on subnet level and stateless</p>
</li>
<li>
<p>By default all inbound and outbound rules are deny </p>
</li>
<li>
<p>VPC are created with modifiable ACLS </p>
</li>
<li>
<p>Every subnet must be associated with ACL </p>
</li>
</ul>
<h2 id="difference-between-acl-and-security-groups"><strong>Difference between ACL and Security groups</strong> <a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#difference-between-acl-and-security-groups" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>

































<div class="table-container"><table><thead><tr><th></th><th></th></tr></thead><tbody><tr><td><strong>Security Group</strong></td><td><strong>ACL</strong></td></tr><tr><td>Instance level</td><td>Subnet level</td></tr><tr><td>Allows rule only</td><td>Allow and deny rules</td></tr><tr><td>Statefull : Returned traffic is allowed</td><td>Stateless: üst be explicitly allowed y rules</td></tr><tr><td>AWS evaluates all rules before deciding whether to allow traffic</td><td>AWS processes rules in number whether to allow traffic</td></tr><tr><td>On individual instances</td><td>Automatically apply to all instance associated with ACL</td></tr></tbody></table></div>
<h2 id="nat-and-nat-gateways"><strong>NAT and NAT Gateways</strong> <a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#nat-and-nat-gateways" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<p>In AWS VPC by default  instance in private IP  can’t connect with the internet through IGW. For this AWS has a NATInstance, AWS recommend to use NAT Gateway rather than NAT Instance because of high availability and higher bandwidth. </p>
<h2 id="nat-instances-network-address-translator"><strong>Nat Instances (Network address Translator)</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#nat-instances-network-address-translator" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p>Points otIts an linux AMI designed to accept traffic from private IP and translate to public IP for internet access </p>
</li>
<li>
<p>For Nat do the following </p>
</li>
<li>
<p>Create security group   </p>
</li>
</ul>
<h2 id="vpg-vpns-cgws"><strong>VPG, VPNs, CGWs</strong><a role="anchor" aria-hidden="true" tabindex="-1" data-no-popover="true" href="#vpg-vpns-cgws" class="internal"><svg width="18" height="18" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path></svg></a></h2>
<ul>
<li>
<p>You can attach your data centre to a AWS VPN.</p>
</li>
<li>
<p>AWS VPC offers two ways to connect to a corporate network to a VPC: VPG and CWG </p>
</li>
<li>
<p>VPG (Virtaul provate gateways)</p>
</li>
<li>
<p>is a VPNs connector between two networks on AWS side</p>
</li>
<li>
<p>CGW</p>
</li>
<li>
<p>Is a customer side VPN connector </p>
</li>
<li>
<p>Then there is a VPN tunnel where the data will flow between AWS and customer datacenter </p>
</li>
<li>
<p>VPN </p>
</li>
<li>
<p>Is generated after traffic flows from customer side </p>
</li>
<li>
<p>you must specify the type of connection you’ll have in tunnel. </p>
</li>
<li>
<p>If customer supports border gateway then configure routing for dynamic routing </p>
</li>
<li>
<p>If Static routing then you must enter the for your network that should be comminucated of VPG. </p>
</li>
<li>
<p>VPC supports multiple CWG (Many to one)</p>
</li>
<li>
<p>Each CWG have his own tunnel </p>
</li>
<li>
<p>Points to remember </p>
</li>
<li>
<p>VPG  is a endpoint of the tunnel of aws </p>
</li>
<li>
<p>You must create connection from CWG to VPG </p>
</li>
<li>
<p>VPN consist of two tunnels or higher availability</p>
</li>
</ul></article></div><div class="right sidebar"><div class="graph"><h3>Graph View</h3><div class="graph-outer"><div id="graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:1,&quot;scale&quot;:1.1,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:false}"></div><svg version="1.1" id="global-graph-icon" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" x="0px" y="0px" viewBox="0 0 55 55" fill="currentColor" xml:space="preserve"><path d="M49,0c-3.309,0-6,2.691-6,6c0,1.035,0.263,2.009,0.726,2.86l-9.829,9.829C32.542,17.634,30.846,17,29,17
	s-3.542,0.634-4.898,1.688l-7.669-7.669C16.785,10.424,17,9.74,17,9c0-2.206-1.794-4-4-4S9,6.794,9,9s1.794,4,4,4
	c0.74,0,1.424-0.215,2.019-0.567l7.669,7.669C21.634,21.458,21,23.154,21,25s0.634,3.542,1.688,4.897L10.024,42.562
	C8.958,41.595,7.549,41,6,41c-3.309,0-6,2.691-6,6s2.691,6,6,6s6-2.691,6-6c0-1.035-0.263-2.009-0.726-2.86l12.829-12.829
	c1.106,0.86,2.44,1.436,3.898,1.619v10.16c-2.833,0.478-5,2.942-5,5.91c0,3.309,2.691,6,6,6s6-2.691,6-6c0-2.967-2.167-5.431-5-5.91
	v-10.16c1.458-0.183,2.792-0.759,3.898-1.619l7.669,7.669C41.215,39.576,41,40.26,41,41c0,2.206,1.794,4,4,4s4-1.794,4-4
	s-1.794-4-4-4c-0.74,0-1.424,0.215-2.019,0.567l-7.669-7.669C36.366,28.542,37,26.846,37,25s-0.634-3.542-1.688-4.897l9.665-9.665
	C46.042,11.405,47.451,12,49,12c3.309,0,6-2.691,6-6S52.309,0,49,0z M11,9c0-1.103,0.897-2,2-2s2,0.897,2,2s-0.897,2-2,2
	S11,10.103,11,9z M6,51c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S8.206,51,6,51z M33,49c0,2.206-1.794,4-4,4s-4-1.794-4-4
	s1.794-4,4-4S33,46.794,33,49z M29,31c-3.309,0-6-2.691-6-6s2.691-6,6-6s6,2.691,6,6S32.309,31,29,31z M47,41c0,1.103-0.897,2-2,2
	s-2-0.897-2-2s0.897-2,2-2S47,39.897,47,41z M49,10c-2.206,0-4-1.794-4-4s1.794-4,4-4s4,1.794,4,4S51.206,10,49,10z"></path></svg></div><div id="global-graph-outer"><div id="global-graph-container" data-cfg="{&quot;drag&quot;:true,&quot;zoom&quot;:true,&quot;depth&quot;:-1,&quot;scale&quot;:0.9,&quot;repelForce&quot;:0.5,&quot;centerForce&quot;:0.3,&quot;linkDistance&quot;:30,&quot;fontSize&quot;:0.6,&quot;opacityScale&quot;:1,&quot;showTags&quot;:true,&quot;removeTags&quot;:[],&quot;focusOnHover&quot;:true}"></div></div></div><div class="toc desktop-only"><button type="button" id="toc" class><h3>Table of Contents</h3><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="fold"><polyline points="6 9 12 15 18 9"></polyline></svg></button><div id="toc-content"><ul class="overflow"><li class="depth-0"><a href="#vpc-virtual-private-cloud" data-for="vpc-virtual-private-cloud">VPC (Virtual Private Cloud)</a></li><li class="depth-0"><a href="#subnets" data-for="subnets">Subnets </a></li><li class="depth-0"><a href="#route-tables" data-for="route-tables">Route Tables</a></li><li class="depth-0"><a href="#internet-gateways" data-for="internet-gateways">Internet Gateways </a></li><li class="depth-0"><a href="#dhcp" data-for="dhcp">DHCP </a></li><li class="depth-0"><a href="#elastic-ip" data-for="elastic-ip">Elastic IP </a></li><li class="depth-0"><a href="#elastic-network-interface-still-confused-" data-for="elastic-network-interface-still-confused-">Elastic Network Interface (still confused )</a></li><li class="depth-0"><a href="#endpoints" data-for="endpoints">Endpoints </a></li><li class="depth-0"><a href="#peering" data-for="peering">Peering </a></li><li class="depth-0"><a href="#security-groups" data-for="security-groups">Security Groups </a></li><li class="depth-0"><a href="#network-allocated-control-list" data-for="network-allocated-control-list">Network Allocated Control List </a></li><li class="depth-0"><a href="#difference-between-acl-and-security-groups" data-for="difference-between-acl-and-security-groups">Difference between ACL and Security groups </a></li><li class="depth-0"><a href="#nat-and-nat-gateways" data-for="nat-and-nat-gateways">NAT and NAT Gateways </a></li><li class="depth-0"><a href="#nat-instances-network-address-translator" data-for="nat-instances-network-address-translator">Nat Instances (Network address Translator)</a></li><li class="depth-0"><a href="#vpg-vpns-cgws" data-for="vpg-vpns-cgws">VPG, VPNs, CGWs</a></li></ul></div></div><div class="backlinks"><h3>Backlinks</h3><ul class="overflow"><li>No backlinks found</li></ul></div></div></div><footer class><hr/><p>Created with <a href="https://quartz.jzhao.xyz/">Quartz v4.2.3</a> © 2024</p><ul><li><a href="https://github.com/jackyzha0/quartz">GitHub</a></li><li><a href="https://discord.gg/cRFFHYye7t">Discord Community</a></li></ul></footer></div></body><script type="application/javascript">function c(){let t=this.parentElement;t.classList.toggle("is-collapsed");let l=t.classList.contains("is-collapsed")?this.scrollHeight:t.scrollHeight;t.style.maxHeight=l+"px";let o=t,e=t.parentElement;for(;e;){if(!e.classList.contains("callout"))return;let n=e.classList.contains("is-collapsed")?e.scrollHeight:e.scrollHeight+o.scrollHeight;e.style.maxHeight=n+"px",o=e,e=e.parentElement}}function i(){let t=document.getElementsByClassName("callout is-collapsible");for(let s of t){let l=s.firstElementChild;if(l){l.addEventListener("click",c),window.addCleanup(()=>l.removeEventListener("click",c));let e=s.classList.contains("is-collapsed")?l.scrollHeight:s.scrollHeight;s.style.maxHeight=e+"px"}}}document.addEventListener("nav",i);window.addEventListener("resize",i);
</script><script type="module">
          let mermaidImport = undefined
          document.addEventListener('nav', async () => {
            if (document.querySelector("code.mermaid")) {
              mermaidImport ||= await import('https://cdnjs.cloudflare.com/ajax/libs/mermaid/10.7.0/mermaid.esm.min.mjs')
              const mermaid = mermaidImport.default
              const darkMode = document.documentElement.getAttribute('saved-theme') === 'dark'
              mermaid.initialize({
                startOnLoad: false,
                securityLevel: 'loose',
                theme: darkMode ? 'dark' : 'default'
              })

              await mermaid.run({
                querySelector: '.mermaid'
              })
            }
          });
          </script><script src="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.9/contrib/copy-tex.min.js" type="application/javascript"></script><script type="application/javascript">
            const socket = new WebSocket('ws://localhost:3001')
            // reload(true) ensures resources like images and scripts are fetched again in firefox
            socket.addEventListener('message', () => document.location.reload(true))
          </script><script src="../postscript.js" type="module"></script></html>